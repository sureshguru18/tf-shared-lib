#! /usr/bin/env groovy

def call(body) {
  def pipelineParams= [:]
  body.resolveStrategy = Closure.DELEGATE_FIRST
  body.delegate = pipelineParams
  body()

  pipeline {
    agent none
    options {
      ansiColor('xterm')
      disableConcurrentBuilds()
    }
    stages {
      stage('Running Terraform Build') {
        steps {
          script {
            // Add your Terraform build steps here
          }
        }
      }
      stage('Get the list of changes directories') {
        steps {
          script {
            // Add your steps to get the list of changed directories here
          }
        }
      }
    }
  }
}
